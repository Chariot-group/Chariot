# Documentation i18n du Projet

Ce document pr√©sente la configuration et l'utilisation de l'internationalisation (i18n) dans le projet.

## 1. Technologie utilis√©e

Nous utilisons la biblioth√®que [next-intl](https://next-intl-docs.vercel.app/) pour g√©rer l'internationalisation.  
Pour plus de d√©tails sur la configuration et les fonctionnalit√©s, consultez la documentation officielle.

## 2. Architecture

- **Configuration i18n :**  
  La configuration de l'internationalisation se trouve dans le dossier `src/i18n`.

- **Composants li√©s aux locales :**  
  Les composants qui g√®rent potentiellement la langue sont dans `src/components/locales`. Par exemple le `LocaleSwitcher` qui permet de changer la langue de l'app.

- **Fichiers de traduction :**  
  Les traductions sont stock√©es dans le dossier `/messages` dans des fichier `{lang}.js` o√π `lang` est une locale (fr, es, en).  
  Toutes les routes du projet suivent le pr√©fixe de la locale, par exemple :
  - `/en/campains`
  - `/fr/campains`

## 3. Fichiers de traduction

Les fichiers de traduction sont au format `{lang}.json` o√π `lang` est une locale (fr, es, en).
Tous les fichiers contiennent les m√™mes cl√©s, ces cl√©s correspondent aux identifiants utilis√©s dans les composants React (fichiers `.tsx`).

La valeur associ√©e √† chaque cl√© est traduite en fonction de la langue.

Il est possible d'effectuer un param√©trage d√©taill√© de l'affichage des traductions (en utilisant des √©num√©rations, des variables, etc.).  
Pour plus d'informations, consultez la documentation de [next-intl](https://next-intl-docs.vercel.app/).

**Bonnes pratiques :**

- Avoir une cl√© par page ou module.
- Chaque cl√© d√©finit une valeur et une liste de variables utilis√©es dans le composant ou la page correspondante.

## 4. Exemple d'utilisation de la biblioth√®que

Voici un exemple de r√©cup√©ration de la locale et d'utilisation des traductions dans un composant React :

```tsx
import { useLocale, useTranslations } from "next-intl";

const MyComponent = () => {
  // R√©cup√©ration de la locale actuelle
  const currentLocale = useLocale();

  // Chargement des traductions pour le composant "component"
  const t = useTranslations("MyComponent");

  return (
    <div>
      <h1>{t("title")}</h1>
      <p>{t("about")}</p>
    </div>
  );
};

export default MyComponent;
```

Dans cet exemple, "la cl√© du fichier" utilis√©e est `MyComponent`, on peut donc retrouver dans les fichier `{lang}.json` o√π `lang` est une locale (fr, es, en), la cl√© `MyComponent` et les valeur "title" ou "about" associ√©es :

```json
// Dans le en.json
  "MyComponent": {
    "title": "Welcome to Chariot!",
    "about": "The ultimate roleplay tool."
  },
  "AutreModule": {
    "variableUne": "Cat",
    "variableDeux": "Dog"
  }

// Dans le fr.json
  "MyComponent": {
    "title": "Bienvenue sur Chariot!",
    "about": "L'outil ultime pour le JDR."
  },
  "AutreModule": {
    "variableUne": "Chat",
    "variableDeux": "Chien"
  }
```

Cet exemple montre comment r√©cup√©rer la locale courante et comment afficher des textes traduits √† l‚Äôaide des fonctions useLocale et useTranslations.

## 5. Ajouter une nouvelle langue üåç

1. **Ajoute un fichier de langue :**  
   Cr√©e un fichier `lang.json` (par ex. `es.json`) dans le dossier des traductions.

2. **G√©n√®re les locales :**

   - üöÄ Ex√©cute :
     ```bash
     npm run generate:locales
     ```
   - Ou red√©marre le serveur avec :
     ```bash
     npm run dev
     ```

3. **Change le nom de la langue si besoin :**  
   La langue sera ajout√©e avec le nom de sa locale (ex. `fr`, `en`). Modifie-le dans les fichiers o√π c'est n√©cessaire.

**Note üìù :**  
Les langues d√©j√† g√©r√©es dans `LocaleSwitcher` ne sont pas √©cras√©es par le script.

**Note 2 üìù :**  
Le script de g√©n√©ration est lanc√© en **pr√©-build** et au d√©marrage de `npm run dev`.
